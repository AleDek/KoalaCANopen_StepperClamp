https://os.mbed.com/users/joe4465/code/PPM/#d13b9e50312f65dfce265419bfbd3dbf79c300cb